function refreshAlbums(innerHTML) {
  const newAlbums = document.getElementById('albums_id');
  newAlbums.innerHTML = innerHTML;
}

<% if @search %>
  const scrollTrigger = document.getElementById('infinite-scrolling');
  if (scrollTrigger) {
  scrollTrigger.remove();
  }
  refreshAlbums('<%= j render "albums/albums_card", albums: @albums %>');
<% else %>
  $('#my-albums').append('<%= j render "albums/albums_card", albums: @albums %>');
  <% if @albums.next_page %>
    $('.pagination').replaceWith('<%= j will_paginate @albums %>');
  <% else %>
    $(window).off('scroll');
    $('.pagination').remove();
  <% end %>
<% end %>
