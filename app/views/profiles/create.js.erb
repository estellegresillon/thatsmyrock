function refreshForm(innerHTML) {
  const newUserAlbum = document.getElementById('new_review');
  newUserAlbum.innerHTML = innerHTML;
}

function addUserAlbum(userAlbumHTML) {
  const userAlbums = document.getElementById('albums_id');
  userAlbums.insertAdjacentHTML('beforeend', userAlbumHTML);
}

<% if @user_album.errors.any? %>
  refreshForm('<%= j render "albums/albums_card", album: @album, user_album: @user_album %>');
<% else %>
  addUserAlbum('<%= j render "albums/albums_card", user_album: @user_album %>');
  refreshForm('<%= j render "albums/albums_card", album: @album, user_album: UserAlbum.new %>');
  refreshForm('<%= j render "reviews/form", restaurant: @restaurant, review: Review.new %>');
<% end %>
